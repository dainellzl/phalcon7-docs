<!DOCTYPE html>

<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Class Phalcon\Mvc\Router &mdash; Phalcon7 1.3.2 文档</title>
    <meta name="keywords" content="php, phalcon, phalcon7, phalcon php, php framework, faster php framework">
    <link rel="stylesheet" type="text/css" href="../static/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../static/phalcon.css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script src="../static/jquery.min.js"></script>
    <link rel="shortcut icon" href="../static/img/favicon.ico"/>
    <link rel="top" title="Phalcon7 1.3.2 文档" href="../index.html" /> 
</head>
<body>

<header class="page-header">
<nav class="navbar" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-container">
				<span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
			</button>
			<a class="navbar-brand phalcon-logo" href="/"><span itemprop="name" class="sr-only">Phalcon PHP</span></a>
		</div>

		<div class="collapse navbar-collapse navbar-right" id="main-menu-container">
			<ul class="nav navbar-nav main-menu">
			  <li class="first"><a href="https://github.com/dreamsxin/cphalcon7" class="header-nav-link">GitHub</a></li>
			  <li class="first"><a href="https://github.com/dreamsxin/cphalcon7/releases" class="header-nav-link">Download</a></li>
			  <li class="first"><a href="/api/" class="header-nav-link">API</a></li>
			  <li class="first"><a href="/internals/" class="header-nav-link">内核开发手册</a></li>
			</ul>
		</div>
	</div>
</nav>
</header>

<div class="heading">
    <div class="container">
        <div class="row">
            <h2>Documentation</h2>
        </div>
    </div>
</div>


<div class="container-fluid">
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li><a href="http://myleftstudio.com">Home</a> &raquo;</li>
        <li><a href="../index.html">Phalcon7 1.3.2 文档</a> &raquo;</li> 
      </ul>
    </div>  
</div>

<div class="container-fluid">
	<div class="col-md-3 primary-box">
		<div class="panel panel-default">
			<div class="panel-heading"><a href="../index.html">內容目录</a></div>
			<div class="panel-body"><ul>
<li><a class="reference internal" href="#">Class <strong>Phalcon\Mvc\Router</strong></a><ul>
<li><a class="reference internal" href="#constants">Constants</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>
</div>
		</div>
	</div>
  <div class="col-md-9 second-box" valign="top">
	<div class="document">
		<div class="documentwrapper">
		  <div class="bodywrapper">
			<div class="body" >
			  
  <div class="section" id="class-phalcon-mvc-router">
<h1>Class <strong>Phalcon\Mvc\Router</strong><a class="headerlink" href="#class-phalcon-mvc-router" title="永久链接至标题">¶</a></h1>
<p><em>extends</em> abstract class <a class="reference internal" href="Phalcon_Router.html"><em>Phalcon\Router</em></a></p>
<p><em>implements</em> <a class="reference internal" href="Phalcon_RouterInterface.html"><em>Phalcon\RouterInterface</em></a>, <a class="reference internal" href="Phalcon_Di_InjectionAwareInterface.html"><em>Phalcon\Di\InjectionAwareInterface</em></a>, <a class="reference internal" href="Phalcon_Events_EventsAwareInterface.html"><em>Phalcon\Events\EventsAwareInterface</em></a>, <a class="reference internal" href="Phalcon_Mvc_RouterInterface.html"><em>Phalcon\Mvc\RouterInterface</em></a></p>
<p><span class="raw-html"><a href="https://github.com/dreamsxin/cphalcon7/blob/master/ext/mvc/router.c" class="btn btn-default btn-sm">Source on GitHub</a></span></p>
<p>Phalcon\Mvc\Router is the standard framework router. Routing is the process of taking a URI endpoint (that part of the URI which comes after the base URL) and decomposing it into parameters to determine which module, controller, and action of that controller should receive the request</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="nv">$router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Phalcon\Mvc\Router</span><span class="p">();</span>

  <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span>
    <span class="s2">&quot;/documentation/{chapter}/{name}.{type:[a-z]+}&quot;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
            <span class="s2">&quot;controller&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;documentation&quot;</span><span class="p">,</span>
            <span class="s2">&quot;action&quot;</span>     <span class="o">=&gt;</span> <span class="s2">&quot;show&quot;</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$router</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">getControllerName</span><span class="p">();</span>
</pre></div>
</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="永久链接至标题">¶</a></h2>
<p><em>integer</em> <strong>MODE_DEFAULT</strong></p>
<p><em>integer</em> <strong>MODE_NONE</strong></p>
<p><em>integer</em> <strong>MODE_REST</strong></p>
<p><em>integer</em> <strong>URI_SOURCE_GET_URL</strong></p>
<p><em>integer</em> <strong>URI_SOURCE_SERVER_REQUEST_URI</strong></p>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="永久链接至标题">¶</a></h2>
<p>public  <strong>__construct</strong> ([<em>boolean</em> $defaultRoutes])</p>
<p>Phalcon\Mvc\Router constructor</p>
<p>public <em>string</em>  <strong>getRewriteUri</strong> ()</p>
<p>Get rewrite info. This info is read from $_GET[&#8216;_url&#8217;]. This returns &#8216;/&#8217; if the rewrite information cannot be read</p>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Router</em></a>  <strong>setUriSource</strong> (<em>int</em> $uriSource)</p>
<p>Sets the URI source. One of the URI_SOURCE_* constants</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

<span class="nv">$router</span><span class="o">-&gt;</span><span class="na">setUriSource</span><span class="p">(</span><span class="nx">Router</span><span class="o">::</span><span class="na">URI_SOURCE_SERVER_REQUEST_URI</span><span class="p">);</span>
</pre></div>
</div>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Router</em></a>  <strong>removeExtraSlashes</strong> (<em>boolean</em> $remove)</p>
<p>Set whether router must remove the extra slashes in the handled routes</p>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Router</em></a>  <strong>setDefaults</strong> (<em>array</em> $defaults)</p>
<p>Sets an array of default paths. If a route is missing a path the router will use the defined here This method must not be used to set a 404 route</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

 <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">setDefaults</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;module&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;common&#39;</span><span class="p">,</span>
    <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span>
 <span class="p">));</span>
</pre></div>
</div>
<p>public <em>array</em>  <strong>getDefaults</strong> ()</p>
<p>Returns an array of default parameters</p>
<p>public  <strong>handle</strong> ([<em>string</em> $uri])</p>
<p>Handles routing information received from the rewrite engine</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

 <span class="c1">//Read the info from the rewrite engine</span>
 <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">();</span>

 <span class="c1">//Manually passing an URL</span>
 <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">handle</span><span class="p">(</span><span class="s1">&#39;/posts/edit/1&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>add</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>array</em> $regex], [<em>string</em> $httpMethods])</p>
<p>Adds a route to the router without any HTTP constraint</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>

 <span class="nv">$router</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">,</span> <span class="s1">&#39;About::index&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addGet</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Adds a route to the router that only match if the HTTP method is GET</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addPost</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Adds a route to the router that only match if the HTTP method is POST</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addPut</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Adds a route to the router that only match if the HTTP method is PUT</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addPatch</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Adds a route to the router that only match if the HTTP method is PATCH</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addDelete</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Adds a route to the router that only match if the HTTP method is DELETE</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addOptions</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Add a route to the router that only match if the HTTP method is OPTIONS</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>addHead</strong> (<em>string</em> $pattern, [<em>string/array</em> $paths], [<em>unknown</em> $regex])</p>
<p>Adds a route to the router that only match if the HTTP method is HEAD</p>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Router</em></a>  <strong>mount</strong> (<a class="reference internal" href="Phalcon_Mvc_Router_Group.html"><em>Phalcon\Mvc\Router\Group</em></a> $group)</p>
<p>Mounts a group of routes in the router</p>
<p>public <a class="reference internal" href=""><em>Phalcon\Mvc\Router</em></a>  <strong>notFound</strong> (<em>array|string</em> $paths)</p>
<p>Set a group of paths to be returned when none of the defined routes are matched</p>
<p>public  <strong>clear</strong> ()</p>
<p>Removes all the pre-defined routes</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>getMatchedRoute</strong> ()</p>
<p>Returns the route that matchs the handled URI</p>
<p>public <em>array</em>  <strong>getMatches</strong> ()</p>
<p>Returns the sub expressions in the regular expression matched</p>
<p>public <em>boolean</em>  <strong>wasMatched</strong> ()</p>
<p>Checks if the router macthes any of the defined routes</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a> [] <strong>getRoutes</strong> ()</p>
<p>Returns all the routes defined in the router</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  | false <strong>getRouteById</strong> (<em>string</em> $id)</p>
<p>Returns a route object by its id</p>
<p>public <a class="reference internal" href="Phalcon_Mvc_Router_Route.html"><em>Phalcon\Mvc\Router\Route</em></a>  <strong>getRouteByName</strong> (<em>string</em> $name)</p>
<p>Returns a route object by its name</p>
<p>public  <strong>isExactControllerName</strong> ()</p>
<p>Returns whether controller name should not be mangled</p>
<p>public  <strong>setDefaultController</strong> (<em>unknown</em> $handlerName)</p>
<p>Sets the default controller name</p>
<p>public <em>string</em>  <strong>getDefaultController</strong> ()</p>
<p>Gets the default controller name</p>
<p>public  <strong>setControllerName</strong> (<em>unknown</em> $handlerName)</p>
<p>Sets the controller name</p>
<p>public <em>string</em>  <strong>getControllerName</strong> ()</p>
<p>Gets the controller name</p>
<p>public  <strong>setDefaultModule</strong> (<em>string</em> $moduleName) inherited from Phalcon\Router</p>
<p>Sets the name of the default module</p>
<p>public <em>string</em>  <strong>getDefaultModule</strong> () inherited from Phalcon\Router</p>
<p>Gets the name of the default module</p>
<p>public  <strong>setDefaultNamespace</strong> (<em>string</em> $namespaceName) inherited from Phalcon\Router</p>
<p>Sets the name of the default namespace</p>
<p>public <em>string</em>  <strong>getDefaultNamespace</strong> () inherited from Phalcon\Router</p>
<p>Gets the name of the default namespace</p>
<p>public  <strong>setDefaultHandler</strong> (<em>unknown</em> $handlerName) inherited from Phalcon\Router</p>
<p>Sets the default handle name</p>
<p>public <em>string</em>  <strong>getDefaultHandler</strong> () inherited from Phalcon\Router</p>
<p>Gets the default handle name</p>
<p>public  <strong>setDefaultAction</strong> (<em>string</em> $actionName) inherited from Phalcon\Router</p>
<p>Sets the default action name</p>
<p>public <em>string</em>  <strong>getDefaultAction</strong> () inherited from Phalcon\Router</p>
<p>Gets the default action name</p>
<p>public  <strong>setDefaultParams</strong> (<em>array</em> $params) inherited from Phalcon\Router</p>
<p>Sets the default extra params</p>
<p>public <em>string</em>  <strong>getDefaultParams</strong> () inherited from Phalcon\Router</p>
<p>Gets the default extra params</p>
<p>public <em>string</em>  <strong>setCaseSensitive</strong> (<em>boolean</em> $caseSensitive) inherited from Phalcon\Router</p>
<p>Sets the case sensitive</p>
<p>public <em>boolean</em>  <strong>getCaseSensitive</strong> () inherited from Phalcon\Router</p>
<p>Returns the case sensitive</p>
<p>public  <strong>setMode</strong> (<em>int</em> $mode) inherited from Phalcon\Router</p>
<p>Sets the mode</p>
<p>public  <strong>getMode</strong> () inherited from Phalcon\Router</p>
<p>Gets the mode</p>
<p>public  <strong>setModuleName</strong> (<em>string</em> $moduleName) inherited from Phalcon\Router</p>
<p>Sets proccesed module name</p>
<p>public <em>string</em>  <strong>getModuleName</strong> () inherited from Phalcon\Router</p>
<p>Returns proccesed module name</p>
<p>public  <strong>setNamespaceName</strong> (<em>string</em> $namespaceName) inherited from Phalcon\Router</p>
<p>Sets proccesed namespace name</p>
<p>public <em>string</em>  <strong>getNamespaceName</strong> () inherited from Phalcon\Router</p>
<p>Returns proccesed namespace name</p>
<p>public  <strong>setHandlerName</strong> (<em>unknown</em> $handlerName) inherited from Phalcon\Router</p>
<p>Sets proccesed handle name</p>
<p>public <em>string</em>  <strong>getHandlerName</strong> () inherited from Phalcon\Router</p>
<p>Returns proccesed handle name</p>
<p>public  <strong>setActionName</strong> (<em>string</em> $actionName) inherited from Phalcon\Router</p>
<p>Sets proccesed action name</p>
<p>public <em>string</em>  <strong>getActionName</strong> () inherited from Phalcon\Router</p>
<p>Returns proccesed action name</p>
<p>public  <strong>setParams</strong> (<em>array</em> $params) inherited from Phalcon\Router</p>
<p>Sets proccesed extra params</p>
<p>public <em>array</em>  <strong>getParams</strong> () inherited from Phalcon\Router</p>
<p>Returns proccesed extra params</p>
<p>public  <strong>setDI</strong> (<a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector) inherited from Phalcon\Di\Injectable</p>
<p>Sets the dependency injector</p>
<p>public <a class="reference internal" href="Phalcon_DiInterface.html"><em>Phalcon\DiInterface</em></a>  <strong>getDI</strong> ([<em>unknown</em> $error], [<em>unknown</em> $notUseDefault]) inherited from Phalcon\Di\Injectable</p>
<p>Returns the internal dependency injector</p>
<p>public  <strong>setEventsManager</strong> (<a class="reference internal" href="Phalcon_Events_ManagerInterface.html"><em>Phalcon\Events\ManagerInterface</em></a> $eventsManager) inherited from Phalcon\Di\Injectable</p>
<p>Sets the event manager</p>
<p>public <a class="reference internal" href="Phalcon_Events_ManagerInterface.html"><em>Phalcon\Events\ManagerInterface</em></a>  <strong>getEventsManager</strong> () inherited from Phalcon\Di\Injectable</p>
<p>Returns the internal event manager</p>
<p>public <em>boolean</em>  <strong>fireEvent</strong> (<em>string</em> $eventName, [<em>mixed</em> $data], [<em>unknown</em> $cancelable]) inherited from Phalcon\Di\Injectable</p>
<p>Fires an event, implicitly calls behaviors and listeners in the events manager are notified</p>
<p>public <em>mixed</em>  <strong>fireEventCancel</strong> (<em>string</em> $eventName, [<em>mixed</em> $data], [<em>unknown</em> $cancelable]) inherited from Phalcon\Di\Injectable</p>
<p>Fires an event, can stop the event by returning to the false</p>
<p>public <em>boolean</em>  <strong>hasService</strong> (<em>string</em> $name) inherited from Phalcon\Di\Injectable</p>
<p>Check whether the DI contains a service by a name</p>
<p>public <a class="reference internal" href="Phalcon_Di_ServiceInterface.html"><em>Phalcon\Di\ServiceInterface</em></a>  <strong>setService</strong> (<em>unknown</em> $name) inherited from Phalcon\Di\Injectable</p>
<p>Sets a service from the DI</p>
<p>public <em>object|null</em>  <strong>getService</strong> (<em>unknown</em> $name) inherited from Phalcon\Di\Injectable</p>
<p>Obtains a service from the DI</p>
<p>public <em>mixed</em>  <strong>getResolveService</strong> (<em>string</em> $name, [<em>array</em> $args], [<em>unknown</em> $noerror], [<em>unknown</em> $noshared]) inherited from Phalcon\Di\Injectable</p>
<p>Resolves the service based on its configuration</p>
<p>public  <strong>attachEvent</strong> (<em>string</em> $eventType, <em>Closure</em> $callback) inherited from Phalcon\Di\Injectable</p>
<p>Attach a listener to the events</p>
<p>public  <strong>__get</strong> (<em>unknown</em> $property) inherited from Phalcon\Di\Injectable</p>
<p>Magic method __get</p>
<p>public  <strong>__sleep</strong> () inherited from Phalcon\Di\Injectable</p>
<p>...</p>
<p>public  <strong>__debugInfo</strong> () inherited from Phalcon\Di\Injectable</p>
<p>...</p>
</div>
</div>


			</div>
		  </div>
		</div>
	</div>
  </div>
</div>
    <div class="related">
      <ul>
        <li class="right" >
          <a href="../genindex.html" title="总目录"
             >索引</a></li> 
      </ul>
    </div>

<footer class="footer">
	<div class="container">
      <div class="row">
          <div class="col-xs-6 col-sm-3">
              <h4>Download</h4>
              <ul>
                  <li><a href="https://github.com/dreamsxin/cphalcon7/releases">安裝 Phalcon7</a></li>
              </ul>
          </div>
          <div class="col-xs-6 col-sm-3">
              <h4>Community</h4>
              <ul>
                  <li><a href="https://github.com/dreamsxin/cphalcon7">GitHub</a></li>
                  <li><a href="https://github.com/dreamsxin/cphalcon7/issues">Issue Tracker</a></li>
              </ul>
          </div>
          <div class="col-xs-6 col-sm-2">
              <h4>About</h4>
              <ul>
                  <li><a href="https://github.com/dreamsxin/cphalcon/wiki/%E6%8D%90%E8%B5%A0%EF%BC%88Donation%EF%BC%89">Donate</a></li>
              </ul>
          </div>
          <div id="license-spaccer" class="visible-xs"></div>
          <div id="license-wrapper" class="col-xs-12 col-sm-4">
              <p class="license">

                  Phalcon7 Framework is released under the <a href="https://github.com/dreamsxin/cphalcon7/blob/master/docs/LICENSE.md">new BSD license</a>.<br>
                  Except where otherwise noted, content on this site is licensed under the
                  <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License.</a>
              </p>
              <div class="design">
                  <span>Designed by:</span>

                  <a href="http://www.fog-city.net/" class="fogcity" target="_blank" title="Fog City Software"><span>Fog City Software</span></a>
              </div>
          </div>
      </div>
	</div>
</footer>
</body>
</html>